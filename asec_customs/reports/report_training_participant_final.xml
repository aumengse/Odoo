<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_training_participant_final">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="web.external_layout">
                        <h5 class="font-weight-bold">List of Participants (Final)</h5>
                        <div>
                            <span class="font-weight-bold">Name of Agency:</span> <span style="padding-left: 15px" t-esc="doc.partner_id.name"/> <br/>
                            <span class="font-weight-bold">Course:</span> <span style="padding-left: 80px" t-esc="doc.course_id.name"/> <br/>
                            <span class="font-weight-bold">Training Date:</span> <span style="padding-left: 33px" t-esc="context_timestamp(doc.date_start).strftime('%d %b %Y')"/> to <span t-esc="context_timestamp(doc.date_end).strftime('%d %b %Y')"/> <br/>
                            <span class="font-weight-bold">Venue:</span> <span style="padding-left: 83px" t-esc="doc.venue_id.name"/> <br/>
                        </div>

                        <table class="table table-sm" style="margin-top:20px">
                            <thead>

                                <tr>
                                    <th colspan="4" style="text-align:center;">Name of Participants</th>
                                    <th rowspan="2" style="text-align:center;vertical-align:middle">Remarks</th>
                                    <th colspan="6" style="text-align:center">Checklist of Additional Requirements</th>
                                </tr>
                                <tr>
                                    <th>#</th>
                                    <th>Last name</th>
                                    <th>First name</th>
                                    <th>Middle name</th>
                                    <th>COE</th>
                                    <th>Local Clearance</th>
                                    <th>Ishihara</th>
                                    <th>OTS ID</th>
                                    <th>Certificates</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="count" t-value="0" />

                                <tr t-foreach="records" t-as="rec">
                                    <t t-set="count" t-value="count + 1"/>
                                    <td><span t-esc="count"/></td>
                                    <td><span t-esc="rec.get('employee_id').last_name"/></td>
                                    <td><span t-esc="rec.get('employee_id').first_name"/></td>
                                    <td><span t-esc="rec.get('employee_id').middle_name"/></td>
                                    <td/>
                                    <td t-if="rec.get('document_coe')" style="text-align:center">
                                        <i class="fa fa-check"/>
                                    </td>
                                    <td t-else=""/>

                                    <td t-if="rec.get('document_local_clearance')" style="text-align:center">
                                        <i class="fa fa-check"/>
                                    </td>
                                    <td t-else=""/>

                                    <td t-if="rec.get('document_ishihara_test')" style="text-align:center">
                                        <i class="fa fa-check"/>
                                    </td>
                                    <td t-else=""/>

                                    <td t-if="rec.get('document_ots')" style="text-align:center">
                                        <i class="fa fa-check"/>
                                    </td>
                                    <td t-else=""/>

                                    <td t-if="rec.get('document_certificate')" style="text-align:center">
                                        <i class="fa fa-check"/>
                                    </td>
                                    <td t-else=""/>
                                </tr>
                            </tbody>
                        </table>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>
